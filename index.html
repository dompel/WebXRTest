<!DOCTYPE html>
<html>
  <head>
    <title>Web XR Example</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <style>
      body {
        text-align: center;
        font-family: Arial, sans-serif;
      }
      #startButton {
        padding: 10px 20px;
        font-size: 18px;
        cursor: pointer;
        background-color: #007BFF;
        color: white;
        border: none;
        border-radius: 5px;
        margin-top: 20px;
      }
      #webxrScene {
        display: none;
      }
    </style>
  </head>
  <body>
    <h1>Welcome to the Test WebXR Application</h1>
    <button id="startButton">Start WebXR</button>
    
    <div id="webxrScene">
      <a-scene 
        embedded 
        xr-mode-ui="enabled: true"
        webxr="optionalFeatures: ['dom-overlay', 'unbounded'];"
      >
        <!-- AR Camera -->
        <a-entity camera></a-entity>
        
        <!-- 3D Cube Model -->
        <a-box position="0 1 -2" material="color: red;"></a-box>
      </a-scene>
    </div>
    
    <script>
      document.getElementById("startButton").addEventListener("click", function() {
        document.getElementById("startButton").style.display = "none";
        document.getElementById("webxrScene").style.display = "block";

        // Request AR session automatically
        if (navigator.xr) {
          navigator.xr.requestSession('immersive-ar', { requiredFeatures: ['local-floor', 'dom-overlay'] })
            .then(session => {
              document.getElementById("webxrScene").style.display = "block";
            })
            .catch(err => {
              alert("AR session could not be started: " + err.message);
            });
        } else {
          alert("WebXR is not available on this browser.");
        }
      });
    </script>
  </body>
</html>
